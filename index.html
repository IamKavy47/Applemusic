<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple Music</title>
    <meta name="description" content="Apple Music clone with Shazam API integration">
    <meta name="theme-color" content="#ffffff">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="mobile-menu-button" id="mobile-menu-button">
                    ☰
                </div>
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 24 24">
                        <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M9,8V16H11V8H9M13,8V16H15V8H13Z" />
                    </svg>
                    Apple Music
                </div>
                <div class="header-actions">
                    <div class="theme-toggle" id="theme-toggle">
                        <div class="theme-toggle-circle"></div>
                        <svg class="theme-toggle-icon sun" viewBox="0 0 24 24">
                            <path d="M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,2L14.39,5.42C13.65,5.15 12.84,5 12,5C11.16,5 10.35,5.15 9.61,5.42L12,2M3.34,7L7.5,6.65C6.9,7.16 6.36,7.78 5.94,8.5C5.5,9.24 5.25,10 5.11,10.79L3.34,7M3.36,17L5.12,13.23C5.26,14 5.53,14.78 5.95,15.5C6.37,16.24 6.91,16.86 7.5,17.37L3.36,17M20.65,7L18.88,10.79C18.74,10 18.47,9.23 18.05,8.5C17.63,7.78 17.1,7.15 16.5,6.64L20.65,7M20.64,17L16.5,17.36C17.09,16.85 17.62,16.22 18.04,15.5C18.46,14.77 18.73,14 18.87,13.21L20.64,17M12,22L9.59,18.56C10.33,18.83 11.14,19 12,19C12.82,19 13.63,18.83 14.37,18.56L12,22Z" />
                        </svg>
                        <svg class="theme-toggle-icon moon" viewBox="0 0 24 24">
                            <path d="M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z" />
                        </svg>
                    </div>
                    <div class="user-profile">
                        A
                    </div>
                </div>
                <div class="search-bar">
                    <input type="text" class="search-input" placeholder="Search for artists, songs, albums..." id="search-input">
                </div>
            </div>
            <nav class="nav-tabs">
                <div class="nav-tab active" data-tab="listen-now">Listen Now</div>
                <div class="nav-tab" data-tab="browse">Browse</div>
                <div class="nav-tab" data-tab="radio">Radio</div>
                <div class="nav-tab" data-tab="library">Library</div>
                <div class="nav-tab" data-tab="search">Search</div>
                <div class="nav-tab" data-tab="playlists">Playlists</div>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Listen Now Tab -->
            <div class="tab-content active" id="listen-now-tab">
                <!-- Hero Section -->
                <section class="hero-section">
                    <div class="hero-content">
                        <span class="hero-badge">Featured</span>
                        <h1 class="hero-title">Discover Your Next Favorite Song</h1>
                        <p class="hero-subtitle">Explore millions of songs, curated playlists, and exclusive content</p>
                        <button class="hero-button" id="hero-button">Start Listening</button>
                    </div>
                    <div class="hero-visual"></div>
                </section>

                <!-- Recently Played -->
                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Recently Played</h2>
                        <a href="#" class="see-all">See All</a>
                    </div>
                    <div class="albums-grid" id="recently-played">
                        <!-- Skeleton loading -->
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Popular Albums -->
                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Popular Albums</h2>
                        <a href="#" class="see-all">See All</a>
                    </div>
                    <div class="albums-grid" id="popular-albums">
                        <!-- Skeleton loading -->
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                        <div class="album-card skeleton-card">
                            <div class="skeleton skeleton-album"></div>
                            <div class="album-info">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm"></div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Top Songs -->
                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Top Songs</h2>
                        <a href="#" class="see-all">See All</a>
                    </div>
                    <div class="song-list" id="top-songs">
                        <!-- Skeleton loading -->
                        <div class="skeleton skeleton-song"></div>
                        <div class="skeleton skeleton-song"></div>
                        <div class="skeleton skeleton-song"></div>
                        <div class="skeleton skeleton-song"></div>
                        <div class="skeleton skeleton-song"></div>
                    </div>
                </section>
            </div>

            <!-- Browse Tab -->
            <div class="tab-content" id="browse-tab">
                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Browse by Category</h2>
                    </div>
                    <div class="browse-categories" id="browse-categories">
                        <!-- Will be populated by JS -->
                    </div>
                </section>

                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">New Releases</h2>
                        <a href="#" class="see-all">See All</a>
                    </div>
                    <div class="albums-grid" id="new-releases">
                        <!-- Will be populated by JS -->
                    </div>
                </section>

                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Featured Playlists</h2>
                        <a href="#" class="see-all">See All</a>
                    </div>
                    <div class="albums-grid" id="featured-playlists">
                        <!-- Will be populated by JS -->
                    </div>
                </section>
            </div>

            <!-- Radio Tab -->
            <div class="tab-content" id="radio-tab">
                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Featured Stations</h2>
                    </div>
                    <div class="radio-stations" id="featured-stations">
                        <!-- Will be populated by JS -->
                    </div>
                </section>

                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Genre Stations</h2>
                        <a href="#" class="see-all">See All</a>
                    </div>
                    <div class="radio-stations" id="genre-stations">
                        <!-- Will be populated by JS -->
                    </div>
                </section>
            </div>

            <!-- Library Tab -->
            <div class="tab-content" id="library-tab">
                <div class="library-empty">
                    <div class="library-empty-icon">♫</div>
                    <h3 class="library-empty-title">Your Library is Empty</h3>
                    <p class="library-empty-text">Add songs, albums, and playlists to your library to see them here.</p>
                    <button class="library-button">Browse Music</button>
                </div>
            </div>

            <!-- Search Tab -->
            <div class="tab-content" id="search-tab">
                <div class="search-results" id="search-results">
                    <div class="search-empty">
                        <div class="search-empty-icon">🔍</div>
                        <h3 class="search-empty-title">Search Apple Music</h3>
                        <p class="search-empty-text">Find your favorite songs, artists, albums, and playlists.</p>
                    </div>
                </div>
                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Browse Categories</h2>
                    </div>
                    <div class="search-categories" id="search-categories">
                        <!-- Will be populated by JS -->
                    </div>
                </section>
            </div>

            <!-- Playlists Tab -->
            <div class="tab-content" id="playlists-tab">
                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Your Playlists</h2>
                    </div>
                    <div class="playlists-grid" id="your-playlists">
                        <!-- Will be populated by JS -->
                    </div>
                </section>
                <section class="section">
                    <div class="section-header">
                        <h2 class="section-title">Apple Music Playlists</h2>
                    </div>
                    <div class="playlists-grid" id="apple-playlists">
                        <!-- Will be populated by JS -->
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Player -->
    <div class="player" id="player">
        <div class="player-content">
            <div class="player-song-info">
                <div class="player-cover">
                    <img src="https://via.placeholder.com/45" alt="Album cover" id="player-cover-img">
                </div>
                <div class="player-details">
                    <div class="player-title" id="player-title">Not Playing</div>
                    <div class="player-artist" id="player-artist">-</div>
                </div>
            </div>
            <div class="player-controls">
                <button class="control-button" id="prev-button">⏮</button>
                <button class="control-button play-pause-button" id="play-pause-button">▶</button>
                <button class="control-button" id="next-button">⏭</button>
                <div class="equalizer" id="equalizer">
                    <div class="equalizer-bar"></div>
                    <div class="equalizer-bar"></div>
                    <div class="equalizer-bar"></div>
                    <div class="equalizer-bar"></div>
                </div>
            </div>
            <div class="progress-section">
                <div class="progress-bar" id="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="time-info">
                    <span id="current-time">0:00</span>
                    <span id="total-time">0:00</span>
                </div>
            </div>
            <div class="volume-section">
                <div class="volume-icon">🔊</div>
                <div class="volume-slider" id="volume-slider">
                    <div class="volume-fill" id="volume-fill"></div>
                </div>
            </div>
            <div class="mini-player-toggle" id="mini-player-toggle">↕️</div>
        </div>
    </div>

    <!-- Shazam Button -->
    <div class="shazam-button" id="shazam-button">
        <svg class="shazam-icon" viewBox="0 0 24 24">
            <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M7,10L12,15L17,10H7Z" />
        </svg>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">Song added to your library</div>

    <!-- Lyrics Modal -->
    <div class="lyrics-modal" id="lyrics-modal">
        <div class="lyrics-content">
            <h3 class="lyrics-title">Lyrics</h3>
            <div class="lyrics-text" id="lyrics-text">Loading lyrics...</div>
            <button class="lyrics-close" id="lyrics-close">Close</button>
        </div>
    </div>

    <!-- Shazam Modal -->
    <div class="shazam-modal" id="shazam-modal">
        <div class="shazam-content">
            <h3 class="shazam-title">Listening...</h3>
            <div class="shazam-animation">
                <svg class="shazam-icon-large" viewBox="0 0 24 24">
                    <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M7,10L12,15L17,10H7Z" />
                </svg>
            </div>
            <p class="shazam-text">Hold on, we're trying to identify this song...</p>
            <button class="shazam-cancel" id="shazam-cancel">Cancel</button>
            
            <div class="shazam-result" id="shazam-result">
                <div class="shazam-result-cover">
                    <img src="https://via.placeholder.com/150" alt="Song cover" id="shazam-result-img">
                </div>
                <h3 class="shazam-result-title" id="shazam-result-title">Song Title</h3>
                <p class="shazam-result-artist" id="shazam-result-artist">Artist Name</p>
                <button class="shazam-play" id="shazam-play">Play Now</button>
                <button class="shazam-cancel" id="shazam-close">Close</button>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="context-menu">
        <div class="context-menu-item" data-action="play">Play</div>
        <div class="context-menu-item" data-action="add-library">Add to Library</div>
        <div class="context-menu-item" data-action="add-playlist">Add to Playlist</div>
        <div class="context-menu-item" data-action="view-artist">View Artist</div>
        <div class="context-menu-item" data-action="view-album">View Album</div>
        <div class="context-menu-item" data-action="share">Share</div>
        <div class="context-menu-item" data-action="lyrics">Show Lyrics</div>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-header">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 24 24">
                    <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M9,8V16H11V8H9M13,8V16H15V8H13Z" />
                </svg>
                Apple Music
            </div>
            <div class="mobile-menu-close" id="mobile-menu-close">✕</div>
        </div>
        <div class="mobile-menu-items">
            <div class="mobile-menu-item" data-tab="listen-now">
                <div class="mobile-menu-icon">♫</div>
                <div class="mobile-menu-text">Listen Now</div>
            </div>
            <div class="mobile-menu-item" data-tab="browse">
                <div class="mobile-menu-icon">🔍</div>
                <div class="mobile-menu-text">Browse</div>
            </div>
            <div class="mobile-menu-item" data-tab="radio">
                <div class="mobile-menu-icon">📻</div>
                <div class="mobile-menu-text">Radio</div>
            </div>
            <div class="mobile-menu-item" data-tab="library">
                <div class="mobile-menu-icon">📚</div>
                <div class="mobile-menu-text">Library</div>
            </div>
            <div class="mobile-menu-item" data-tab="search">
                <div class="mobile-menu-icon">🔎</div>
                <div class="mobile-menu-text">Search</div>
            </div>
            <div class="mobile-menu-item" data-tab="playlists">
                <div class="mobile-menu-icon">📋</div>
                <div class="mobile-menu-text">Playlists</div>
            </div>
            <div class="mobile-menu-item" id="mobile-theme-toggle">
                <div class="mobile-menu-icon">🌓</div>
                <div class="mobile-menu-text">Toggle Theme</div>
            </div>
        </div>
    </div>

    <!-- Install Prompt -->
    <div class="install-prompt" id="install-prompt">
        <div class="install-text">
            <div class="install-title">Install Apple Music</div>
            <div class="install-desc">Add to your home screen for the best experience</div>
        </div>
        <div class="install-buttons">
            <button class="install-button" id="install-button">Install</button>
            <button class="install-dismiss" id="install-dismiss">Not Now</button>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        // Register service worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed: ', error);
                    });
            });
        }
    </script>
</body>
  </html>
