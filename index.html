<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shazam Music Search</title>
    <style>
        * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, sans-serif;
}

body {
    background-color: #f0f8ff;
}

.app-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    margin-bottom: 30px;
}

h1 {
    color: #333;
    font-size: 2.5rem;
    font-family: 'Brush Script MT', cursive;
    color: #1DB954;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
}

.search-container {
    display: flex;
    justify-content: center;
    margin-bottom: 30px;
}

#input-keywords {
    padding: 10px 15px;
    width: 300px;
    border: 1px solid #ddd;
    border-radius: 4px 0 0 4px;
    font-size: 16px;
    outline: none;
}

#submit {
    padding: 10px 20px;
    background-color: #555;
    color: white;
    border: none;
    border-radius: 0 4px 4px 0;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
}

#submit:hover {
    background-color: #444;
}

.music-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}

.container {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 600px;
    overflow: hidden;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.music-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

.col {
    width: 100%;
    text-align: center;
}

.song-img, .artist-img {
    width: 120px;
    height: 120px;
    object-fit: cover;
    border-radius: 4px;
    margin-bottom: 10px;
}

#title {
    font-size: 1.5rem;
    font-weight: bold;
    margin: 10px 0;
    color: #333;
}

#url {
    color: #1DB954;
    text-decoration: none;
    font-weight: bold;
}

#url:hover {
    text-decoration: underline;
}

#artist-text {
    font-size: 1rem;
    color: #666;
    margin-top: 5px;
}
    </style>
</head>
<body>
    <div class="app-container">
        <header>
            <h1>Shazam Music Search</h1>
        </header>
        
        <div class="search-container">
            <input type="text" id="input-keywords" placeholder="Enter a song or artist...">
            <button id="submit">Submit</button>
        </div>
        
        <div id="music-container" class="music-container">
            <!-- Search results will be displayed here -->
        </div>
    </div>

    <script>
        const inputKeywords = document.getElementById("input-keywords");
const submitButton = document.getElementById("submit");
const musicContainer = document.querySelector(".music-container");

submitButton.addEventListener("click", () => {
    getSongData();
});

// Also trigger search on Enter key
inputKeywords.addEventListener("keypress", (e) => {
    if (e.key === "Enter") {
        getSongData();
    }
});

async function getSongData() {
    // Show loading state
    musicContainer.innerHTML = '<div class="loading">Searching...</div>';
    
    const query = inputKeywords.value.trim();
    
    if (!query) {
        musicContainer.innerHTML = '<div class="error">Please enter a search term</div>';
        return;
    }
    
    const url = `https://shazam-core.p.rapidapi.com/v1/search/suggest?query=${encodeURIComponent(query)}`;
    const options = {
        method: 'GET',
        headers: {
            'x-rapidapi-key': '73ec588339msh0aad14b831a7fb2p1fb80cjsnf7918996415b',
            'x-rapidapi-host': 'shazam-core.p.rapidapi.com'
        }
    };

    try {
        const response = await fetch(url, options);
        const results = await response.json();
        
        setSongDataDisplay(results);
    } catch (error) {
        console.error(error);
        musicContainer.innerHTML = `<div class="error">Error: ${error.message}</div>`;
    }
}

function setSongDataDisplay(results) {
    if (!results.tracks || !results.tracks.hits || results.tracks.hits.length === 0) {
        musicContainer.innerHTML = '<div class="error">No results found</div>';
        return;
    }
    
    // Clear previous results
    musicContainer.innerHTML = "";
    
    // Display each track result
    results.tracks.hits.forEach((hit, index) => {
        if (index > 4) return; // Limit to 5 results
        
        const track = hit.track;
        
        const cardHTML = `
            <div class="container music-card">
                <div class="col">
                    ${track.images ? 
                        `<img src="${track.images.background}" alt="${track.title}" class="song-img" id="song-img">` : 
                        '<div class="no-image">No Image</div>'}
                    <h4 id="title">${track.title}</h4>
                    <a href="${track.url}" id="url" target="_blank">View on Shazam</a>
                </div>
                <br>
                <div>
                    ${track.images ? 
                        `<img src="${track.images.background}" alt="${track.subtitle}" class="artist-img" id="artist-img">` : 
                        '<div class="no-image">No Image</div>'}
                    <p id="artist-text">${track.subtitle}</p>
                </div>
            </div>
        `;
        
        musicContainer.innerHTML += cardHTML;
    });
}

// Initialize with a default search
window.addEventListener('DOMContentLoaded', () => {
    inputKeywords.value = "mask";
    getSongData();
});
    </script>
</body>
</html>
